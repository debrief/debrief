<?xml version="1.0" encoding="UTF-8"?>
<cheatsheet
      title="Generate a target track">
   <intro>
      <description>
         This cheat sheet is going to work through creating a segment of target track from bearing data.  The target track is going to represent a period of straight-line motion, and can be interpreted as a Manual TMA Solution
      </description>
   </intro>
   <item
         title="Load datafiles">
      <description>
         We&apos;re using new datafiles for this step, so double-click on <b>nonsuch.rep</b> in the Navigator to load ownship track (and select <b>DR</b> mode when asked).  Perform a Fit to Window once loaded to have a look at the track. Next, drag in <b>sensor.dsf</b>.
      </description>
      <command
            required="false"
            serialization="org.eclipse.ui.views.showView(org.eclipse.ui.views.showView.viewId=org.eclipse.ui.views.ResourceNavigator)"/>
   </item>
   <item
         title="Make sensor data visible">
      <description>
         To keep the plot tidy, sensor data is not shown by default when loaded.  Expand <b>Track:NONSUCH</b> in the <b>Layer Manager</b>, then select <b>Sensor:Sensor_A (52 items)</b>. Once the Sensor A sensor data is selected, click on the tick icon in the toolbar at top of the Layer Manager view, to make the sensor data visible.
      </description>
   </item>
   <item
         title="Set array offset">
      <description>
         As you&apos;ll see, the sensor data is ambiguous as produced by a towed array.  Currently Debrief is plotting the sensor cuts against the attack datum of the platform, but we need to apply an offset for this sensor (451m in this case).  So, select <b>Sensor:SENSOR_A</b> in the <b>Layer Manager</b>, then open the <b>Properties Window</b> (the click to perform button below will also open it).  In the Properties Window you&apos;ll see the <b>SensorOffset</b> attribute, enter -451 metres in this field, click on the Plot, and you&apos;ll see the bearings jump to reflect the change.
      </description>
      <command
            required="false"
            serialization="org.eclipse.ui.views.showView(org.eclipse.ui.views.showView.viewId=org.eclipse.ui.views.PropertySheet)"/>
   </item>
   <item
         href="/org.mwc.debrief.help/html/legacy/GroomingTrackData.html#ResamplingData"
         skip="true"
         title="Reduce data density">
      <description>
         Whilst it isn&apos;t necessary for this exercise, Debrief does allow you to reduce the density of the sensor data.  If you right-click on <b>Sensor:SENSOR_A</b>, then navigate down into the <b>SENSOR_A</b> sub-menu you will see a <b>Visible Frequency</b> option. Using one of these options will pass through sensor data and hide sensor observations between the specified frequency.  The sensor cuts remain available, and can be made visible again by selecting a smaller visible frequency.
      </description>
   </item>
   <item
         title="Resolve ambiguity">
      <description>
         You&apos;ll now see the sensor data appear.  You&apos;ll see one bearing fan heading off to the WNW, and the other off towards NNE.  Intelligence tells us (well, Ian H tells us) that the actual contact is off to the NW.  If we open the Time Controller view and drag the time slider back and forth we&apos;ll see the current position highlight moving from top-right to bottom left. Thus, the NW block of sensor data is to the Starboard of the track.
      </description>
      <command
            required="false"
            serialization="org.eclipse.ui.views.showView(org.eclipse.ui.views.showView.viewId=org.mwc.cmap.TimeController.views.TimeController)"/>
   </item>
   <item
         title="Drop ambiguous data">
      <description>
         Now, using the Layer Manager, expand the <b>SENSOR_A</b> dataset and select all of the child items (select the top one, scroll to the bottom of the list, then select the bottom one whilst holding down the shift-key).  Now, right click on one of the entries and select <b>Keep starboard bearings</b>.  The port bearings will dissappear.
      </description>
   </item>
   <item
         title="Decide on contact period">
      <description>
         The capable analyst will be able to recognise a couple of periods of steady bearing rate that lend themselves to being the basis of TMA solutions.  The first one we&apos;re going to use is the first dozen or so sensor cuts.  We can see that after a period of about 6 cuts there&apos;s another steady period - we&apos;ll use that for a solution a little later.
      </description>
   </item>
   <item
         title="Highlight contacts">
      <description>
         We&apos;re going to chance the color of the contacts to use for our first solution.  Double-click somewhere along the bearing line for the last data point in first period of steady bearing data - it will be highlighted in the Layer Manager.  By my (unqualified eye), the last data point is the one at <b>090722 04417</b>.  Click on that to select it.  Next scroll back up to the start of the sensor data, hold down the &lt;shift&gt; key and click on the first entry.  This period of sensor data is now selected.  Before creating a TMA segment based on it we&apos;re going to highlight it in a unique color. So, right-click anywhere on it, and select <b>Multiple items/Color/Orange</b>.
      </description>
   </item>
   <item
         title="Generate the TMA segment">
      <description>
         Next, with the set of data still selected (or reselect it if you&apos;ve lost the selection) we&apos;re going to create a solution based upon it.  When we generate a TMA segment based on sensor data, Debrief creates a track segment of steady course/speed data points, with one data-point at the time of each sensor cut used to generate the segment.  Let&apos;s get on with it.  Now, right click on the selected sensor data and select <b>Generate TMA solution from selected cuts</b>.
      </description>
   </item>
   <item
         title="Follow the generate TMA wizard">
      <description>
         Once the TMA wizard opens, it will invite you to enter an initial range and bearing to the contact.  Enter 1 nautical mile (nm) for the solution, and leave the bearing unaltered (since it&apos;s using the bearing from our first sensor cut).  Then click <b>Next</b>.  The wizard will then invite you to enter an initial solution. Based on our understanding of the sensor fan and a complete guess, enter 220 for the course and 6 knots for the speed, then press <b>Finish</b>.  You will see a red track appear, labelled with <b>TMA_</b> and the current time.   The solutions have times to make it easier for you to manage them.
      </description>
   </item>
   <item
         skip="true"
         title="Recognise track data">
      <description>
         If you expand the new track in the <b>Layer Manager</b> you&apos;ll see the <b>Positions</b> child item.  Notice that the icon for this item shows a straight-line section of data with an associated (but tiny) compass rose).  The equivalent object for <b>Track:NONSUCH</b> shows a non straight-line set of positions.  Also, note that on the plot, the name of the TMA segment is shown in italics, to denote that it&apos;s not based on actual position recordings.
      </description>
   </item>
   <item
         href="/org.mwc.debrief.help/html/legacy/analysing_data.html#assigning_tracks"
         title="Put the tracks on the tote">
      <description>
         To view residuals, we must indicate to Debrief which is the ownship and which is the target.  Debrief can hold many more than two tracks, so we must inform it which two tracks we want to compare with each other. So, in the Layer Manager, first select the <b>Track:NONSUCH</b> item, then click on the <b>1</b>  (primary) in the Layer Manager toolbar.  Next, click on the <b>Track_xxxx</b> item and select <b>2</b> (secondary) button in the Layer Manager toolbar.  If you switch to the <b>Track Tote</b> view (shortcut provided below) you&apos;ll now see it contains our primary and secondary tracks - and we&apos;ve successfully indicated who we want to view in the residuals plot.
      </description>
      <command
            required="false"
            serialization="org.eclipse.ui.views.showView(org.eclipse.ui.views.showView.viewId=org.mwc.cmap.tote.views.ToteView)"/>
   </item>
   <item
         href="/org.mwc.debrief.help/html/legacy/formatting_data.html#track_shifting"
         title="Drag the track segment">
      <description>
         You may now manipulate the track segment to minimise the bearing and frequency residuals. Start by clicking on <b>Drag Track Segment</b> on the Debrief toolbar. As you do, the <b>Bearing Residuals</b> view will be brought to the front.  You can expand this view by dragging it&apos;s sides, or to make it much larger you can pick it up by clicking and dragging the <b>Bearing Residuals</b> tab above it, and dragging it to another monitor.  
In this view are the 4 drag operation buttons, that control how you drag the track. The cursor hand will go green when over a valid hot-spot: either end of the track.  Regardless of the selected drag mode you can translate a track by clicking on the hotspot at its mid-point.
     </description>
      <subitem
            label="Review bearing residuals.  When you enter drag-track mode, the view Bearing Residuals view is opened for you - so you can track the current residual errors."
            skip="true">
       </subitem>
      <subitem
            label="Review frequency residuals.  If you do have frequency data available, open the Frequency Residuals view to track the difference between measured and predicted frequency (taking ownship and target doppler into account)."
            skip="true">
         <command
               required="false"
               serialization="org.eclipse.ui.views.showView(org.eclipse.ui.views.showView.viewId=org.mwc.debrief.track_shift.views.FrequencyResidualsView)"/>
      </subitem>
   </item>
   <item
         title="Generate second TMA segment">
      <description>
         Once you&apos;re happy with the first solution it&apos;s time to move on.   It would appear from the sensor data that the turn is covered by about 13 cuts before a further straight line section of data.
So, now click on the first sensor cut of the second steady set of bearings - that cut will be highlighted in the <b>Layer Manager</b>. Now scroll down to the end of the data and shift-click the last sensor cut.  We&apos;ve now selected the cuts to be used for the second track segment.  Right click on one of the selected items and select <b>Multiple items/Color/Green</b>.  The cuts will turn green.  Now right-click again on the cuts and click on <b>Generate TMA solution from selected cuts</b>, and complete the wizard once again.
      </description>
   </item>
   <item
         title="Refine second solution">
      <description>
         Now, find the new solution in the Layer Manager and set it as the secondary track.  You&apos;ll also have to switch to the track-tote and remove the existing secondary track.  Do this by right-clicking anywhere in the secondary track&apos;s column of data and selecting <b>Remove this track</b>.  Once the new solution is marked as secondary you are able to start dragging/refining this solution.
      </description>
   </item>
</cheatsheet>
