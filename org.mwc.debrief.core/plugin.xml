<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin>

    <extension point="org.eclipse.ui.views">
        <category id="org.mwc.debrief.core.DebriefCategory" name="Debrief"/>
        <view
              allowMultiple="false"
              category="org.mwc.cmap.plotViewer.CMAP"
              class="org.mwc.debrief.core.ui.views.UnitCentricView"
              icon="icons/16/compass.png"
              id="org.mwc.debrief.core.view.unit_centric"
              name="Unit Centric View"
              restorable="true">
        </view>
    </extension>

    <extension point="org.eclipse.ui.editors">
        <editor class="org.mwc.debrief.core.editors.PlotEditor"
            contributorClass="org.mwc.debrief.core.editors.PlotEditorActionBarContributor"
            icon="icons/16/plot_file.png" id="org.mwc.debrief.PlotEditor" name="Debrief Plot Editor">
            <contentTypeBinding contentTypeId="org.mwc.debrief.contenttype.DebriefPlot"/>
            <contentTypeBinding contentTypeId="org.mwc.debrief.contenttype.DebriefPlotGPX"/>
            <contentTypeBinding contentTypeId="org.mwc.debrief.contenttype.OTH_G_Log"/>
            <contentTypeBinding contentTypeId="org.mwc.debrief.contenttype.CLog"/>
        </editor>
    </extension>

    <extension point="org.eclipse.ui.editors">
        <editor class="org.mwc.debrief.core.editors.PlotEditor"
            contributorClass="org.mwc.debrief.core.editors.PlotEditorActionBarContributor"
            icon="icons/16/track_file.png" id="org.mwc.debrief.TrackEditor"
            name="Debrief Plot Editor">
            <contentTypeBinding contentTypeId="org.mwc.debrief.contenttype.ReplayTrackFile"/>
            <contentTypeBinding contentTypeId="org.mwc.debrief.contenttype.KMZTrackFile"/>
            <contentTypeBinding contentTypeId="org.mwc.debrief.contenttype.LogTrackFile"/>
            <contentTypeBinding contentTypeId="org.mwc.debrief.contenttype.KMZTrackArchive"/>
            <contentTypeBinding contentTypeId="org.mwc.debrief.contenttype.AISTrackFile"/>
            <contentTypeBinding contentTypeId="org.mwc.debrief.contenttype.NMEALogFile"/>
            <contentTypeBinding contentTypeId="org.mwc.debrief.contenttype.CSV_GZ_LogFile"/>
            <contentTypeBinding contentTypeId="org.mwc.debrief.contenttype.SATCTrackFile"/>
            <contentTypeBinding contentTypeId="org.mwc.debrief.contenttype.SATCSampleTrackFile"/>
        </editor>
    </extension>

    <extension point="org.eclipse.ui.editors">
        <editor class="org.mwc.debrief.core.editors.PlotEditor"
            contributorClass="org.mwc.debrief.core.editors.PlotEditorActionBarContributor"
            icon="icons/16/sensor_file.png" id="org.mwc.debrief.SensorEditor"
            name="Debrief Plot Editor">
            <contentTypeBinding contentTypeId="org.mwc.debrief.contenttype.ReplaySensorFile"/> 
            <contentTypeBinding contentTypeId="org.mwc.debrief.contenttype.BRTSensorFile"/> 
        </editor>
    </extension>

    <extension point="org.eclipse.core.contenttype.contentTypes">
        <content-type base-type="org.eclipse.core.runtime.xml" file-extensions="xml,dpf"
            id="org.mwc.debrief.contenttype.DebriefPlot" name="Debrief Plot File" priority="normal">
            <describer class="org.eclipse.core.runtime.content.XMLRootElementContentDescriber">
                <parameter name="element" value="plot"> </parameter>
            </describer>
        </content-type>
        <content-type base-type="org.eclipse.core.runtime.xml" file-extensions="gpx"
            id="org.mwc.debrief.contenttype.DebriefPlotGPX" name="Debrief GPX File"
            priority="normal">
            <describer class="org.eclipse.core.runtime.content.XMLRootElementContentDescriber">
                <parameter name="element" value="gpx"> </parameter>
            </describer>
        </content-type>
        <content-type id="org.mwc.debrief.contenttype.ReplayTrackFile" file-extensions="rep"
            name="Replay Track File" priority="normal"> </content-type>
        <content-type base-type="org.eclipse.core.runtime.text"
            id="org.mwc.debrief.contenttype.ReplaySensorFile" file-extensions="dsf"
            name="Debrief Sensor File" priority="normal"> </content-type>
        <content-type base-type="org.eclipse.core.runtime.text"
            id="org.mwc.debrief.contenttype.INPFile" file-extensions="inp"
            name="DIS Simulation input file" priority="normal"> </content-type>
        <content-type id="org.mwc.debrief.contenttype.WorldImageFile" file-extensions="tif"
            name="World Image (Electronic Chart) File" priority="normal"> </content-type>
        <content-type id="org.mwc.debrief.contenttype.KMZTrackArchive" file-extensions="kmz"
            name="KMZ Track Archive" priority="normal"> </content-type>
        <content-type id="org.mwc.debrief.contenttype.KMZTrackFile" file-extensions="kml"
            name="KMZ Track File" priority="normal"> </content-type>
        <content-type id="org.mwc.debrief.contenttype.OTH_G_Log" file-extensions="txt"
            name="OTH-Gold log file" priority="high"> 
            <describer class="org.mwc.debrief.core.contenttype.OTH_G_ContentDescriber"/>
        </content-type>
        <content-type id="org.mwc.debrief.contenttype.CLog" file-extensions="txt"
            name="CLog file" priority="high"> 
            <describer class="org.mwc.debrief.core.contenttype.CLog_ContentDescriber"/>
        </content-type>
        <content-type id="org.mwc.debrief.contenttype.LogTrackFile" file-extensions="csv"
            name="S2087 Context Track File (Log)" priority="normal"> </content-type>
        <content-type id="org.mwc.debrief.contenttype.AISTrackFile"
            file-extensions="txt"
            name="AIS track file" priority="high">
            <describer class="org.mwc.debrief.core.contenttype.AISContentDescriber"/>
        </content-type>
        <content-type id="org.mwc.debrief.contenttype.NMEALogFile"
            file-extensions="log"
            name="NMEA Log file" priority="high">
            <describer class="org.mwc.debrief.core.contenttype.NMEAContentDescriber"/>
        </content-type>
        <content-type id="org.mwc.debrief.contenttype.CSV_GZ_LogFile"
            file-extensions="gz"
            name="Compressed CSV C-Log file" priority="high">
            <describer class="org.mwc.debrief.core.contenttype.CSV_GZ_ContentDescriber"/>
        </content-type>
        <content-type id="org.mwc.debrief.contenttype.SATCTrackFile"
            file-extensions="txt"
            name="SATC export file" priority="high">
            <describer class="org.mwc.debrief.core.contenttype.SATCContentDescriber"/>
        </content-type>
        <content-type id="org.mwc.debrief.contenttype.SATCSampleTrackFile"
            file-extensions="cs2"
            name="SATC Sample file" priority="high">
            <describer class="org.mwc.debrief.core.contenttype.SATCSampleContentDescriber"/>
        </content-type>
        <content-type base-type="org.eclipse.core.runtime.text"
            id="org.mwc.debrief.contenttype.BRTSensorFile" file-extensions="brt"
            name="Third Party Relative Bearing File" priority="normal"> </content-type>
    </extension>

    <extension-point id="DebriefPlotLoader" name="Plot Loader"
        schema="schema/DebriefPlotLoader.exsd"/>
    <extension-point id="XMLLayerHandler" name="XMLLayerHandler"
        schema="schema/XMLLayerHandler.exsd"/>
    <extension-point id="RepReader" name="RepReader" schema="schema/RepReader.exsd"/>
    <extension-point id="OutlineContentProvider" name="OutlineContentProvider" schema="schema/ContentProvider.exsd"/>
    <extension-point id="DPFReaderWriter" name="DPFReaderWriter" schema="schema/DPFReaderWriter.exsd"/>
    <extension point="org.mwc.debrief.core.DebriefPlotLoader">
        <loader class="org.mwc.debrief.core.loaders.ReplayLoader" extensions="rep;dsf;dtf"
            name="ReplayLoader"/>
    </extension>
    <extension point="org.mwc.debrief.core.DebriefPlotLoader">
        <loader class="org.mwc.debrief.core.loaders.XMLLoader" extensions="xml;dpf"
            name="Debrief XML Loader"/>
    </extension>
    <extension point="org.mwc.debrief.core.DebriefPlotLoader">
        <loader class="org.mwc.debrief.core.loaders.KMLLoader" extensions="kml"
            name="KML Track File"/>
    </extension>
    <extension point="org.mwc.debrief.core.DebriefPlotLoader">
        <loader class="org.mwc.debrief.core.loaders.KMLLoader" extensions="kmz"
            name="KML Track Archive"/>
    </extension>
    <extension point="org.mwc.debrief.core.DebriefPlotLoader">
        <loader class="org.mwc.debrief.core.loaders.LogTrackLoader" extensions="csv"
            name="S2087 Context Track File (.csv)" first_line="SYS_ORDINAL"/>
    </extension>
    <extension point="org.mwc.debrief.core.DebriefPlotLoader">
        <loader class="org.mwc.debrief.core.loaders.UK_CSV_Loader" extensions="csv"
            name="UK CSV Exchange Format (.csv)" first_line="# UK TRACK EXCHANGE FORMAT, V1.0" />
    </extension>
    <extension point="org.mwc.debrief.core.DebriefPlotLoader">
        <loader class="org.mwc.debrief.core.loaders.GPXLoader" extensions="gpx" name="GPX Plot File"
        />
    </extension>
    <extension point="org.mwc.debrief.core.DebriefPlotLoader">
        <loader class="org.mwc.debrief.core.loaders.NMEALoader" extensions="log" first_line="$POSL" name="NMEA Log File"        
        />
    </extension>
    <extension point="org.mwc.debrief.core.DebriefPlotLoader">
        <loader class="org.mwc.debrief.core.loaders.OTH_Gold_Loader" extensions="txt" name="OTH-Gold Log File"        
        />
    </extension>
    <extension point="org.mwc.debrief.core.DebriefPlotLoader">
        <loader class="org.mwc.debrief.core.loaders.CLog_Loader" extensions="txt" first_line="Unknown" name="CLog File"        
        />
    </extension>
    <extension point="org.mwc.debrief.core.DebriefPlotLoader">
        <loader class="org.mwc.debrief.core.loaders.CSV_GZ_Loader" extensions="gz"  name="Compressed CLog File"        
        />
    </extension>
    <extension point="org.mwc.debrief.core.DebriefPlotLoader">
        <loader class="org.mwc.debrief.core.loaders.AISLoader" extensions="txt" first_line="!AIVDM" name="AIS Track File"        
        />
    </extension>
    <extension point="org.mwc.debrief.core.DebriefPlotLoader">
        <loader class="org.mwc.debrief.core.loaders.SATCLoader" extensions="txt" first_line="//X, Y, Time"  name="SATC Track File"        
        />
    </extension>
    <extension point="org.mwc.debrief.core.DebriefPlotLoader">
        <loader class="org.mwc.debrief.core.loaders.SATCSampleLoader" extensions="cs2" first_line="#Time of Validity,"  name="SATC Sample Track File"        
        />
    </extension>
    <extension point="org.mwc.debrief.core.DebriefPlotLoader">
        <loader class="org.mwc.debrief.core.loaders.TifLoader" extensions="tif;tiff"
            name="GeoTIF Image File"/>
    </extension>
    <extension point="org.mwc.debrief.core.DebriefPlotLoader">
        <loader class="org.mwc.debrief.core.loaders.ShapeLoader" extensions="shp"
            name="ShapeFile File"/>
    </extension>
    <extension point="org.mwc.debrief.core.DebriefPlotLoader">
        <loader class="org.mwc.debrief.core.loaders.MsDocLoader" extensions="doc"
            name="MS Word Document"/>
    </extension>
    <extension point="org.mwc.debrief.core.DebriefPlotLoader">
        <loader class="org.mwc.debrief.core.loaders.MsDocXLoader" extensions="docx"
            name="MS Word XML Document"/>
    </extension>
    <extension point="org.mwc.debrief.core.DebriefPlotLoader">
        <loader class="org.mwc.debrief.core.loaders.PdfLoader" extensions="pdf"
            name="PDF Document"/>
    </extension>
    <extension point="org.mwc.debrief.core.DebriefPlotLoader">
        <loader class="org.mwc.debrief.core.loaders.BRTLoader" extensions="brt"
            name="BRT Document"/>
    </extension>

    <extension point="org.eclipse.ui.menus">
        <menuContribution locationURI="toolbar:org.eclipse.ui.main.toolbar?before=group.file">
            <toolbar id="org.mwc.debrief.core.save" label="Save">
                <separator name="features" visible="true"/>
                <separator name="sep3" visible="true"/>
                <separator name="additions" visible="true"/>
            </toolbar>
            <toolbar id="org.mwc.debrief.core.createProject" label="Create Project">
                <separator name="features" visible="true"/>
                <separator name="sep3" visible="true"/>
                <separator name="additions" visible="true"/>
            </toolbar>
            <toolbar id="org.mwc.debrief.core.prefs" label="Preferences">
                <separator name="features" visible="true"/>
                <separator name="sep3" visible="true"/>
                <separator name="additions" visible="true"/>
            </toolbar>
            <toolbar
                  id="org.mwc.debrief.core.undoRedo"
                  label="Undo Redo">
               <separator
                     name="features"
                     visible="true">
               </separator>
               <separator
                     name="sep3"
                     visible="true">
               </separator>
               <separator
                     name="additions"
                     visible="true">
               </separator>
            </toolbar>
            <toolbar id="org.mwc.debrief.core.EditorFeatures" label="Add Features">
                <separator name="features" visible="true"/>
                <separator name="sep3" visible="true"/>
                <separator name="additions" visible="true"/>
            </toolbar>
            <toolbar id="org.mwc.debrief.core.EditorShapes" label="Insert Shapes">
                <separator name="shapes" visible="true"/>
                <separator name="sep2" visible="true"/>
                <separator name="additions" visible="true"/>
            </toolbar>
            <toolbar id="org.mwc.debrief.core.ChartFeatures" label="Chart Features">
                <separator name="charts" visible="true"/>
                <separator name="sep2" visible="true"/>
                <separator name="additions" visible="true"/>
            </toolbar>
            <toolbar id="org.mwc.debrief.core.EditorView" label="View Mode">
                <separator name="viewRadio" visible="true"/>
                <separator name="view" visible="true"/>
                <separator name="sep1" visible="true"/>
                <separator name="additions" visible="true"/>
            </toolbar>
        </menuContribution>

        <menuContribution locationURI="menu:org.eclipse.ui.main.menu?after=additions">
            <menu id="org.mwc.debrief.core.EditorFeatures" label="&amp;Chart Features"/>
            <menu id="org.mwc.debrief.core.EditorShapes" label="&amp;Drawing"/>
            <menu id="org.mwc.debrief.core.EditorView" label="&amp;View"/>
        </menuContribution>
        <menuContribution locationURI="menu:org.mwc.debrief.core.EditorView">
            <separator name="viewRadio" visible="true"/>
            <separator name="view" visible="true"/>
            <separator name="sep4" visible="true"/>
            <separator name="additions" visible="true"/>
        </menuContribution>
        <menuContribution locationURI="menu:org.mwc.debrief.core.EditorShapes">
            <separator name="shapes" visible="true"/>
            <separator name="sep5" visible="true"/>
            <separator name="additions" visible="true"/>
        </menuContribution>
        <menuContribution locationURI="menu:org.mwc.debrief.core.EditorFeatures">
            <separator name="features" visible="true"/>
            <separator name="sep6" visible="true"/>
            <separator name="additions" visible="true"/>
        </menuContribution>

        <menuContribution locationURI="menu:org.mwc.debrief.core.EditorView?after=viewRadio">
            <command commandId="org.mwc.debrief.core.RadioHandler" icon="icons/16/SelectSegment.png"
                label="Drag &amp;TMA Segment" style="radio" id="org.mwc.debrief.core.DragSegment">
                <parameter name="org.eclipse.ui.commands.radioStateParameter" value="DragSegment"> </parameter>
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>

            <command commandId="org.mwc.debrief.core.RadioHandler"
                icon="icons/16/SelectComponent.png" label="Drag &amp;Component" style="radio"
                id="org.mwc.debrief.core.DragComponent">
                <parameter name="org.eclipse.ui.commands.radioStateParameter" value="DragComponent"> </parameter>
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>

            <command commandId="org.mwc.debrief.core.RadioHandler" icon="icons/16/SelectFeature.png"
                label="&amp;Drag Whole Feature" style="radio" id="org.mwc.debrief.core.DragFeature">
                <parameter name="org.eclipse.ui.commands.radioStateParameter" value="DragFeature"> </parameter>
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>

            <command commandId="org.mwc.debrief.core.RadioHandler" icon="icons/16/rng_brg.png"
                label="Measure range &amp;bearing" style="radio"
                id="org.mwc.debrief.core.RangeBearing">
                <parameter name="org.eclipse.ui.commands.radioStateParameter" value="RangeBearing"> </parameter>
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>

            <command commandId="org.mwc.debrief.core.RadioHandler" icon="icons/16/hand.png"
                label="&amp;Pan" style="radio" id="org.mwc.debrief.core.Pan">
                <parameter name="org.eclipse.ui.commands.radioStateParameter" value="Pan"> </parameter>
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activeCorePlotEditor"> </reference>
                </visibleWhen>
            </command>

            <command commandId="org.mwc.debrief.core.RadioHandler" icon="icons/16/zoomin.png"
                label="Zoom &amp;In" style="radio" id="org.mwc.debrief.core.ZoomIn">
                <parameter name="org.eclipse.ui.commands.radioStateParameter" value="ZoomIn"> </parameter>
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activeCorePlotEditor"> </reference>
                </visibleWhen>
            </command>
        </menuContribution>

        <menuContribution locationURI="toolbar:org.mwc.debrief.core.save?before=additions">
            <command commandId="org.eclipse.ui.file.save" icon="icons/24/save.png" label="Save"
                tooltip="Save" style="push" id="org.mwc.debrief.core.save"> </command>
                
        </menuContribution>

        <menuContribution locationURI="toolbar:org.mwc.debrief.core.prefs?before=additions">
            <command commandId="org.mwc.debrief.core.OpenPrefs" icon="icons/24/gears.png"
                style="push" id="org.mwc.debrief.core.OpenPrefs">
            </command>
        </menuContribution>

        <menuContribution locationURI="toolbar:org.mwc.debrief.core.createProject?before=additions">
            <command commandId="org.mwc.debrief.core.createProject"
                icon="icons/24/create_project.png" label="Create Project"
                tooltip="Create folders to contain your Debrief working files" style="push"
                id="org.mwc.debrief.core.createProject"> </command>
        </menuContribution>
        <menuContribution
              locationURI="toolbar:org.mwc.debrief.core.undoRedo?before=additions">
           <command
                 commandId="org.eclipse.ui.edit.undo"
                 icon="icons/24/undo.png"
                 id="undoredo.undo"
                 style="push">
           </command>
           <command
                 commandId="org.eclipse.ui.edit.redo"
                 icon="icons/24/redo.png"
                 id="undoredo.redo"
                 style="push">
           </command>
        </menuContribution>

        <menuContribution locationURI="toolbar:org.mwc.debrief.core.EditorView?after=viewRadio">
            <command commandId="org.mwc.debrief.core.RadioHandler" icon="icons/24/SelectSegment.png"
                label="Drag &amp;Track Segment" tooltip="Drag Track Segment" style="radio"
                id="org.mwc.debrief.core.DragSegment">
                <parameter name="org.eclipse.ui.commands.radioStateParameter" value="DragSegment"> </parameter>
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>

            <command commandId="org.mwc.debrief.core.RadioHandler"
                icon="icons/24/SelectComponent.png" label="Drag &amp;Component"
                tooltip="Drag Component" style="radio" id="org.mwc.debrief.core.DragComponent">
                <parameter name="org.eclipse.ui.commands.radioStateParameter" value="DragComponent"> </parameter>
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>

            <command commandId="org.mwc.debrief.core.RadioHandler" icon="icons/24/SelectFeature.png"
                label="&amp;Drag Whole Feature" tooltip="Drag Whole Feature" style="radio"
                id="org.mwc.debrief.core.DragFeature">
                <parameter name="org.eclipse.ui.commands.radioStateParameter" value="DragFeature"> </parameter>
                <visibleWhen checkEnabled="false">
                    <with variable="activeEditorId">
                        <or>
                            <equals value="org.mwc.debrief.PlotEditor"> </equals>
                            <equals value="org.mwc.debrief.TrackEditor"> </equals>
                            <equals value="org.mwc.debrief.SensorEditor"> </equals>
                        </or>
                    </with>
                </visibleWhen>
            </command>

            <command commandId="org.mwc.debrief.core.RadioHandler" icon="icons/24/rng_brg.png"
                label="Measure range &amp;bearing" tooltip="Measure range bearing" style="radio"
                id="org.mwc.debrief.core.RangeBearing">
                <parameter name="org.eclipse.ui.commands.radioStateParameter" value="RangeBearing"> </parameter>
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>

            <command commandId="org.mwc.debrief.core.RadioHandler" icon="icons/24/hand.png"
                label="&amp;Pan" tooltip="Pan" style="radio" id="org.mwc.debrief.core.Pan">
                <parameter name="org.eclipse.ui.commands.radioStateParameter" value="Pan"> </parameter>
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activeCorePlotEditor"> </reference>
                </visibleWhen>
            </command>

            <command commandId="org.mwc.debrief.core.RadioHandler" icon="icons/24/zoomin.png"
                style="radio" tooltip="Zoom In" id="org.mwc.debrief.core.ZoomIn">
                <parameter name="org.eclipse.ui.commands.radioStateParameter" value="ZoomIn"> </parameter>
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activeCorePlotEditor"> </reference>
                </visibleWhen>
            </command>
        </menuContribution>

        <menuContribution locationURI="menu:org.mwc.debrief.core.EditorView?after=additions">
            <command commandId="org.mwc.debrief.core.ZoomOut" icon="icons/16/zoomout.png"
                style="push" id="org.mwc.debrief.core.ZoomOut">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activeCorePlotEditor"> </reference>
                </visibleWhen>
            </command>
            <command commandId="org.mwc.debrief.core.FitToWindow" icon="icons/16/fit_to_win.png"
                style="push" id="org.mwc.debrief.core.FitToWindow">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activeCorePlotEditor"> </reference>
                </visibleWhen>
            </command>

            <command commandId="org.mwc.debrief.core.Redraw" icon="icons/16/repaint.png"
                style="push" id="org.mwc.debrief.core.Redraw">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activeCorePlotEditor"> </reference>
                </visibleWhen>
            </command>
            
        </menuContribution>

        <menuContribution locationURI="toolbar:org.mwc.debrief.core.EditorView?after=view">
            <separator name="org.mwc.debrief.core.separator8"> </separator>
            <command commandId="org.mwc.debrief.core.ZoomOut" icon="icons/24/zoomout.png"
                style="push" id="org.mwc.debrief.core.ZoomOut">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activeCorePlotEditor"> </reference>
                </visibleWhen>
            </command>
        </menuContribution>

        <menuContribution locationURI="toolbar:org.mwc.debrief.core.EditorView?after=additions">
            <command commandId="org.mwc.debrief.core.FitToWindow" icon="icons/24/fit_to_win.png"
                style="push" id="org.mwc.debrief.core.FitToWindow">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activeCorePlotEditor"> </reference>
                </visibleWhen>
            </command>

            <command commandId="org.mwc.debrief.core.Redraw" icon="icons/24/repaint.png"
                style="push" id="org.mwc.debrief.core.Redraw">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activeCorePlotEditor"> </reference>
                </visibleWhen>
            </command>

        </menuContribution>
        <menuContribution locationURI="menu:org.mwc.debrief.core.EditorFeatures?after=features">
            <command commandId="org.mwc.debrief.core.creators.chartFeatures.InsertScale"
                icon="icons/16/scale.png" style="push"
                id="org.mwc.debrief.core.creators.chartFeatures.InsertScale">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>
            
            <command commandId="org.mwc.debrief.core.creators.chartFeatures.InsertTimeDisplayAbsolute"
                icon="icons/16/clock.png" style="push"
                id="org.mwc.debrief.core.creators.chartFeatures.InsertTimeDisplayAbsolute">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>

			<command commandId="org.mwc.debrief.core.creators.chartFeatures.InsertTimeDisplayRelative"
                icon="icons/16/stopwatch.png" style="push"
                id="org.mwc.debrief.core.creators.chartFeatures.InsertTimeDisplayRelative">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>
            
            <command commandId="org.mwc.debrief.core.creators.chartFeatures.Insert4WGrid"
                icon="icons/16/grid4w.png" style="push"
                id="org.mwc.debrief.core.creators.chartFeatures.Insert4WGrid">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>

            <command commandId="org.mwc.debrief.core.creators.chartFeatures.InsertGrid"
                icon="icons/16/grid.png" style="push"
                id="org.mwc.debrief.core.creators.chartFeatures.InsertGrid">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>

            <command commandId="org.mwc.debrief.core.creators.chartFeatures.InsertLocalGrid"
                icon="icons/16/local_grid.png" style="push"
                id="org.mwc.debrief.core.creators.chartFeatures.InsertLocalGrid">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>

            <command commandId="org.mwc.debrief.core.creators.chartFeatures.InsertCoastline"
                icon="icons/16/coast.png" style="push"
                id="org.mwc.debrief.core.creators.chartFeatures.InsertCoastline">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>

            <command commandId="org.mwc.debrief.core.creators.chartFeatures.InsertETOPO"
                icon="icons/16/etopo.png" style="push"
                id="org.mwc.debrief.core.creators.chartFeatures.InsertETOPO">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>

            <command commandId="org.mwc.debrief.core.creators.chartFeatures.InsertChartLibrary"
                icon="icons/16/library.png" style="push"
                id="org.mwc.debrief.core.creators.chartFeatures.InsertChartLibrary">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>

            <command commandId="org.mwc.debrief.core.creators.chartFeatures.InsertVPFLayers"
                icon="icons/16/vpf.png" style="push"
                id="org.mwc.debrief.core.creators.chartFeatures.InsertVPFLayers">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>
        </menuContribution>
        <menuContribution locationURI="menu:org.mwc.debrief.core.EditorShapes?after=shapes">
            <command commandId="org.mwc.debrief.core.creators.shapes.AutoSelectTarget"
                icon="icons/16/auto_layer.png" style="toggle"
                id="org.mwc.debrief.core.creators.shapes.AutoSelectTarget">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>
            <command commandId="org.mwc.debrief.core.creators.shapes.InsertEllipse"
                icon="icons/16/ellipse.png" style="push"
                id="org.mwc.debrief.core.creators.shapes.InsertEllipse">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>
            <command commandId="org.mwc.debrief.core.creators.shapes.InsertPolygon"
                icon="icons/16/polygon.png" style="push"
                id="org.mwc.debrief.core.creators.shapes.Insertploygon">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>
            <command commandId="org.mwc.debrief.core.creators.shapes.InsertLine"
                icon="icons/16/line.png" style="push"
                id="org.mwc.debrief.core.creators.shapes.InsertLine">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>
            <command commandId="org.mwc.debrief.core.creators.shapes.InsertRectangle"
                icon="icons/16/rectangle.png" style="push"
                id="org.mwc.debrief.core.creators.shapes.InsertRectangle">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>
            <command commandId="org.mwc.debrief.core.creators.shapes.InsertWheel"
                icon="icons/16/wheel.png" style="push"
                id="org.mwc.debrief.core.creators.shapes.InsertWheel">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>
            <command commandId="org.mwc.debrief.core.creators.shapes.InsertCircle"
                icon="icons/16/circle.png" style="push"
                id="org.mwc.debrief.core.creators.shapes.InsertCircle">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>
            <command commandId="org.mwc.debrief.core.creators.shapes.InsertArc"
                icon="icons/16/arc.png" style="push"
                id="org.mwc.debrief.core.creators.shapes.InsertArc">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>
            <command commandId="org.mwc.debrief.core.creators.shapes.InsertLabel"
                icon="icons/16/label.png" style="push"
                id="org.mwc.debrief.core.creators.shapes.InsertLabel">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>
            <command commandId="org.mwc.debrief.core.creators.shapes.InsertFurthestOnCircles"
                icon="icons/16/furthest_circles.png" style="push"
                id="org.mwc.debrief.core.creators.shapes.InsertFurthestOnCircles">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>
            <command commandId="org.mwc.debrief.core.creators.shapes.InsertRangeRings"
                icon="icons/16/range_rings.png" style="push"
                id="org.mwc.debrief.core.creators.shapes.InsertRangeRings">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>
            <command commandId="org.mwc.debrief.core.creators.chartFeatures.InsertTrackSegment"
                icon="icons/16/track_segment.png" style="push"
                id="org.mwc.debrief.core.creators.chartFeatures.InsertTrackSegment">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>
            <command commandId="org.mwc.debrief.core.creators.shapes.InsertVector"
                icon="icons/16/vector.png" style="push"
                id="org.mwc.debrief.core.creators.shapes.InsertVector">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>
            <separator
                  name="org.mwc.debrief.core.separator1"
                  visible="true">
            </separator>
            <menu
                  id="dynamicShapes"
                  label="Dynamic Shapes">
               <command
                     commandId="org.mwc.debrief.core.creators.shapes.InsertSensorArc"
                     icon="icons/16/sensor.png"
                     id="org.mwc.debrief.core.creators.shapes.InsertSensorArc"
                     label="Sensor Arc"
                     style="push">
                  <visibleWhen
                        checkEnabled="false">
                     <reference
                           definitionId="org.mwc.debrief.activePlotEditor">
                     </reference>
                  </visibleWhen>
               </command>
               <command
                     commandId="org.mwc.debrief.core.creators.shapes.dynamic.InsertDynamicPolygon"
                     icon="icons/16/polygon.png"
                     id="org.mwc.debrief.core.creators.shapes.dynamic.InsertDynamicPolygon"
                     label="Dynamic Polygon"
                     style="push">
                  <visibleWhen
                        checkEnabled="false">
                     <reference
                           definitionId="org.mwc.debrief.activePlotEditor">
                     </reference>
                  </visibleWhen>
               </command>
               <command
                     commandId="org.mwc.debrief.core.creators.shapes.dynamic.InsertDynamicCircle"
                     icon="icons/16/circle.png"
                     id="org.mwc.debrief.core.creators.shapes.dynamic.InsertDynamicCircle"
                     label="Dynamic Circle"
                     style="push">
                  <visibleWhen
                        checkEnabled="false">
                     <reference
                           definitionId="org.mwc.debrief.activePlotEditor">
                     </reference>
                  </visibleWhen>
               </command>
               <command
                     commandId="org.mwc.debrief.core.creators.shapes.dynamic.InsertDynamicRectangle"
                     icon="icons/16/rectangle.png"
                     id="org.mwc.debrief.core.creators.shapes.dynamic.InsertDynamicRectangle"
                     label="Dynamic Rectangle"
                     style="push">
                  <visibleWhen
                        checkEnabled="false">
                     <reference
                           definitionId="org.mwc.debrief.activePlotEditor">
                     </reference>
                  </visibleWhen>
               </command>
            </menu>
        </menuContribution>

        <menuContribution locationURI="toolbar:org.mwc.debrief.core.EditorShapes?after=shapes">
            <command commandId="org.mwc.debrief.core.creators.shapes.AutoSelectTarget"
                icon="icons/24/auto_layer.png" style="toggle"
                id="org.mwc.debrief.core.creators.shapes.AutoSelectTarget">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>
            <command commandId="org.mwc.debrief.core.creators.shapes.InsertEllipse"
                icon="icons/24/ellipse.png" style="push"
                id="org.mwc.debrief.core.creators.shapes.InsertEllipse">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>
            <command commandId="org.mwc.debrief.core.creators.shapes.InsertPolygon"
                icon="icons/24/polygon.png" style="push"
                id="org.mwc.debrief.core.creators.shapes.Insertploygon">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>
            <command commandId="org.mwc.debrief.core.creators.shapes.InsertLine"
                icon="icons/24/line.png" style="push"
                id="org.mwc.debrief.core.creators.shapes.InsertLine">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>
            <command commandId="org.mwc.debrief.core.creators.shapes.InsertRectangle"
                icon="icons/24/rectangle.png" style="push"
                id="org.mwc.debrief.core.creators.shapes.InsertRectangle">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>
            <command commandId="org.mwc.debrief.core.creators.shapes.InsertWheel"
                icon="icons/24/wheel.png" style="push"
                id="org.mwc.debrief.core.creators.shapes.InsertWheel">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>
            <command commandId="org.mwc.debrief.core.creators.shapes.InsertCircle"
                icon="icons/24/circle.png" style="push"
                id="org.mwc.debrief.core.creators.shapes.InsertCircle">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>
            <command commandId="org.mwc.debrief.core.creators.shapes.InsertArc"
                icon="icons/24/arc.png" style="push"
                id="org.mwc.debrief.core.creators.shapes.InsertArc">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>
            <command commandId="org.mwc.debrief.core.creators.shapes.InsertLabel"
                icon="icons/24/label.png" style="push"
                id="org.mwc.debrief.core.creators.shapes.InsertLabel">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>
            <command commandId="org.mwc.debrief.core.creators.shapes.InsertFurthestOnCircles"
                icon="icons/24/furthest_circles.png" style="push"
                id="org.mwc.debrief.core.creators.shapes.InsertFurthestOnCircles">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>
            <command commandId="org.mwc.debrief.core.creators.shapes.InsertRangeRings"
                icon="icons/24/range_rings.png" style="push"
                id="org.mwc.debrief.core.creators.shapes.InsertRangeRings">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>
            <command commandId="org.mwc.debrief.core.creators.chartFeatures.InsertTrackSegment"
                icon="icons/24/track_segment.png" style="push"
                id="org.mwc.debrief.core.creators.chartFeatures.InsertTrackSegment">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>
            <command commandId="org.mwc.debrief.core.creators.shapes.InsertVector"
                icon="icons/24/vector.png" style="push"
                id="org.mwc.debrief.core.creators.shapes.InsertVector">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>
        </menuContribution>

        <menuContribution locationURI="menu:file?after=additions">
            <command commandId="org.mwc.debrief.core.operations.ExportGPX"
                icon="icons/16/export_gpx.png" style="push"
                id="org.mwc.debrief.core.operations.ExportGPX">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>
            <command commandId="org.mwc.cmap.plotViewer.actions.ExportWMF"
                icon="icons/16/photo_scenery.png" style="push"
                id="org.mwc.cmap.plotViewer.actions.ExportWMF">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>
            <command commandId="org.mwc.cmap.plotViewer.actions.ExportWMFToClipboard"
                icon="icons/16/photo_scenery.png" style="push"
                id="org.mwc.cmap.plotViewer.actions.ExportWMFToClipboard">
                <visibleWhen checkEnabled="false">
                    <and>
               			<systemTest
                     		property="osgi.os"
                     		value="win32">
               			</systemTest>
            			<systemTest
                     		property="osgi.arch"
                     		value="x86">
               			</systemTest>
                    	<reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                    </and>
                </visibleWhen>
            </command>

            <command commandId="org.mwc.debrief.core.exportAsRTF" icon="icons/16/Ex_2word_256_1.png"
                style="push" id="org.mwc.debrief.core.exportAsRTF">
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.mwc.debrief.activePlotEditor"> </reference>
                </visibleWhen>
            </command>

        </menuContribution>
    </extension>

    <extension point="org.eclipse.core.expressions.definitions">
        <definition id="org.mwc.debrief.activePlotEditor">
            <with variable="activeEditorId">
                <or>
                    <equals value="org.mwc.debrief.PlotEditor"> </equals>
                    <equals value="org.mwc.debrief.TrackEditor"> </equals>
                    <equals value="org.mwc.debrief.SensorEditor"> </equals>
                </or>
            </with>
        </definition>
    </extension>

    <extension point="org.eclipse.core.expressions.definitions">
        <definition id="org.mwc.debrief.activeCorePlotEditor">
            <with variable="activeEditorId">
                <or>
                    <equals value="org.mwc.debrief.PlotEditor"> </equals>
                    <equals value="org.mwc.asset.ASSETPlotEditor"> </equals>
                    <equals value="org.mwc.debrief.TrackEditor"> </equals>
                    <equals value="org.mwc.debrief.SensorEditor"> </equals>
                </or>
            </with>
        </definition>
    </extension>

    <extension point="org.eclipse.ui.commands">
        <command defaultHandler="org.mwc.debrief.core.actions.ExportAsRTFHandler"
            id="org.mwc.debrief.core.exportAsRTF" name="Export image as WMF embedded in RTF"> </command>

        <command defaultHandler="org.mwc.debrief.core.actions.CreateProjectHandler"
            id="org.mwc.debrief.core.createProject" name="Create Project"> </command>

        <command defaultHandler="org.mwc.debrief.core.creators.chartFeatures.InsertScale"
            id="org.mwc.debrief.core.creators.chartFeatures.InsertScale" name="&amp;Scale"> </command>

		<command defaultHandler="org.mwc.debrief.core.creators.chartFeatures.InsertTimeDisplayAbsolute"
            id="org.mwc.debrief.core.creators.chartFeatures.InsertTimeDisplayAbsolute" name="&amp;Time Display (Absolute)"> </command>

        <command defaultHandler="org.mwc.debrief.core.creators.chartFeatures.InsertTimeDisplayRelative"
            id="org.mwc.debrief.core.creators.chartFeatures.InsertTimeDisplayRelative" name="&amp;Time Display (Relative)"> </command>
        
        <command defaultHandler="org.mwc.debrief.core.creators.chartFeatures.Insert4WGrid"
            id="org.mwc.debrief.core.creators.chartFeatures.Insert4WGrid" name="&amp;4W Grid"> </command>

        <command defaultHandler="org.mwc.debrief.core.creators.chartFeatures.InsertGrid"
            id="org.mwc.debrief.core.creators.chartFeatures.InsertGrid" name="&amp;Grid"> </command>

        <command defaultHandler="org.mwc.debrief.core.creators.chartFeatures.InsertLocalGrid"
            id="org.mwc.debrief.core.creators.chartFeatures.InsertLocalGrid" name="&amp;Local Grid"> </command>

        <command defaultHandler="org.mwc.debrief.core.creators.chartFeatures.InsertCoastline"
            id="org.mwc.debrief.core.creators.chartFeatures.InsertCoastline" name="&amp;CoastLine"> </command>

        <command defaultHandler="org.mwc.debrief.core.creators.chartFeatures.InsertETOPO"
            id="org.mwc.debrief.core.creators.chartFeatures.InsertETOPO" name="&amp;ETOPO"> </command>

        <command defaultHandler="org.mwc.debrief.core.creators.chartFeatures.InsertChartLibrary"
            id="org.mwc.debrief.core.creators.chartFeatures.InsertChartLibrary"
            name="C&amp;hart Library"> </command>

        <command defaultHandler="org.mwc.debrief.core.creators.chartFeatures.InsertVPFLayers"
            id="org.mwc.debrief.core.creators.chartFeatures.InsertVPFLayers" name="&amp;VPF Layers"> </command>


        <command defaultHandler="org.mwc.cmap.plotViewer.actions.ZoomOut"
            id="org.mwc.debrief.core.ZoomOut" name="Zoom &amp;Out"> </command>

        <command defaultHandler="org.mwc.cmap.plotViewer.actions.FitToWindow"
            id="org.mwc.debrief.core.FitToWindow" name="&amp;Fit to window"> </command>

        <command defaultHandler="org.mwc.cmap.plotViewer.actions.Redraw"
            id="org.mwc.debrief.core.Redraw" name="&amp;Redraw"> </command>

        <command defaultHandler="org.mwc.debrief.core.actions.OpenPrefs"
            id="org.mwc.debrief.core.OpenPrefs" name="&amp;Open Prefs"> </command>


        <command defaultHandler="org.mwc.debrief.core.actions.RadioHandler"
            id="org.mwc.debrief.core.RadioHandler" name="Radio">
            <commandParameter id="org.eclipse.ui.commands.radioStateParameter" name="Radio Name"
                optional="false"> </commandParameter>
            <state id="org.eclipse.ui.commands.radioState">
                <class class="org.eclipse.ui.handlers.RadioState">
                    <parameter name="default" value="ZoomIn"> </parameter>
                    <parameter name="persisted" value="false"> </parameter>
                </class>
            </state>
        </command>

        <command defaultHandler="org.mwc.debrief.core.creators.shapes.AutoSelectTarget"
            id="org.mwc.debrief.core.creators.shapes.AutoSelectTarget"
            name="&amp;Manually select target layer">
            <state class="org.eclipse.ui.handlers.RegistryToggleState:true"
                id="org.eclipse.ui.commands.toggleState"> </state>
        </command>

        <command defaultHandler="org.mwc.debrief.core.creators.shapes.InsertArc"
            id="org.mwc.debrief.core.creators.shapes.InsertArc" name="&amp;Arc"> </command>

        <command defaultHandler="org.mwc.debrief.core.creators.shapes.InsertCircle"
            id="org.mwc.debrief.core.creators.shapes.InsertCircle" name="&amp;Circle"> </command>

        <command defaultHandler="org.mwc.debrief.core.creators.shapes.InsertWheel"
            id="org.mwc.debrief.core.creators.shapes.InsertWheel" name="&amp;Wheel"> </command>

        <command defaultHandler="org.mwc.debrief.core.creators.shapes.InsertRangeRings"
            id="org.mwc.debrief.core.creators.shapes.InsertRangeRings" name="&amp;Range Rings"> </command>

        <command defaultHandler="org.mwc.debrief.core.creators.shapes.InsertFurthestOnCircles"
            id="org.mwc.debrief.core.creators.shapes.InsertFurthestOnCircles"
            name="&amp;Furthest On Circles"> </command>

        <command defaultHandler="org.mwc.debrief.core.creators.shapes.InsertPolygon"
            id="org.mwc.debrief.core.creators.shapes.InsertPolygon" name="&amp;Polygon"> </command>

        <command defaultHandler="org.mwc.debrief.core.creators.shapes.InsertEllipse"
            id="org.mwc.debrief.core.creators.shapes.InsertEllipse" name="&amp;Ellipse"> </command>

        <command defaultHandler="org.mwc.debrief.core.creators.shapes.InsertRectangle"
            id="org.mwc.debrief.core.creators.shapes.InsertRectangle" name="Recta&amp;ngle"> </command>

        <command defaultHandler="org.mwc.debrief.core.creators.shapes.InsertLabel"
            id="org.mwc.debrief.core.creators.shapes.InsertLabel" name="La&amp;bel"> </command>

        <command defaultHandler="org.mwc.debrief.core.creators.shapes.InsertLine"
            id="org.mwc.debrief.core.creators.shapes.InsertLine" name="&amp;Line"> </command>

        <command defaultHandler="org.mwc.debrief.core.creators.shapes.InsertVector"
            id="org.mwc.debrief.core.creators.shapes.InsertVector" name="&amp;Vector"> </command>

        <command defaultHandler="org.mwc.debrief.core.creators.chartFeatures.InsertTrackSegment"
            id="org.mwc.debrief.core.creators.chartFeatures.InsertTrackSegment"
            name="&amp;Track Segment"> </command>

        <command defaultHandler="org.mwc.cmap.plotViewer.actions.ExportWMF"
            id="org.mwc.cmap.plotViewer.actions.ExportWMF" name="Export WMF"> </command>
        
        <command defaultHandler="org.mwc.cmap.plotViewer.actions.ExportWMFToClipboard"
            id="org.mwc.cmap.plotViewer.actions.ExportWMFToClipboard" name="Export WMF to clipboard">
        </command>

        <command defaultHandler="org.mwc.debrief.core.operations.ExportGPX"
            id="org.mwc.debrief.core.operations.ExportGPX" name="Export GPX"> </command>
        <command
              defaultHandler="org.mwc.debrief.core.creators.shapes.dynamic.InsertSensorArc"
              id="org.mwc.debrief.core.creators.shapes.InsertSensorArc"
              name="&amp;Sensor Arc">
        </command>
        <command
              defaultHandler="org.mwc.debrief.core.creators.shapes.dynamic.InsertDynamicRectangle"
              id="org.mwc.debrief.core.creators.shapes.dynamic.InsertDynamicRectangle"
              name="&amp;Rectangle">
        </command>
        <command
              defaultHandler="org.mwc.debrief.core.creators.shapes.dynamic.InsertDynamicCircle"
              id="org.mwc.debrief.core.creators.shapes.dynamic.InsertDynamicCircle"
              name="&amp;Circle">
        </command>
        <command
              defaultHandler="org.mwc.debrief.core.creators.shapes.dynamic.InsertDynamicPolygon"
              id="org.mwc.debrief.core.creators.shapes.dynamic.InsertDynamicPolygon"
              name="&amp;Polygon">
        </command>
    </extension>

    <extension point="org.eclipse.ui.newWizards">
        <wizard
              category="org.eclipse.ui.Basic"
              class="org.mwc.debrief.core.wizards.NewProjectWizard"
              icon="icons/16/create_project.png"
              id="org.mwc.debrief.core.wizards.NewProjectWizard"
              name="Debrief Project"
              project="true"/>
        <wizard
              category="org.mwc.cmap.core"
              class="org.mwc.debrief.core.wizards.NewPlotWizard"
              icon="icons/16/plot_file.png"
              id="org.mwc.debrief.core.wizards.NewPlotWizard"
              name="Debrief Plot">
        </wizard>
    </extension>
    <extension id="Debrief" point="org.eclipse.core.runtime.products">
        <product application="org.eclipse.ui.ide.workbench"
            description="Debrief Maritime Analysis Software" name="DebriefNG">
            <property name="appName" value="DebriefNG"/>
            <property name="introTitle" value="Welcome to DebriefNG (with Charts)"/>
            <property name="introBrandingImage" value="product:icons/icon.png"/>
            <property name="introBrandingImageText"
                value="Debrief, from the Maritime Warfare Centre"/>
            <property name="aboutImage" value="icons/DebriefNGlogoSmall.png"/>
            <property name="startupForegroundColor" value="000000"/>
            <property name="startupMessageRect" value="0,0,0,0"/>
            <property name="startupProgressRect" value="0,0,0,0"/>
            <property name="applicationXMI" value="org.eclipse.platform/LegacyIDE.e4xmi"/>
            <property name="cssTheme" value="org.eclipse.e4.ui.css.theme.e4_default"/>
            <property name="applicationCSSResources"
                value="platform:/plugin/org.eclipse.platform/images/"/>
            <property name="aboutText" value="%aboutText"> </property>
            <property
                  name="windowImages"
                  value="icons/icon.png,icons/48/icon_48.png">
            </property>
            <property
                  name="preferenceCustomization"
                  value="plugin_customization.ini">
            </property>
        </product>
    </extension>

    <extension point="org.eclipse.ui.perspectives">
        <perspective class="org.mwc.debrief.core.DebriefPerspectiveFactory"
            icon="icons/16/debrief_icon.png" id="org.mwc.debrief.core.Perspective"
            name="Tactical Analysis"/>
    </extension>

    <extension point="org.eclipse.ui.perspectiveExtensions">
        <perspectiveExtension targetID="org.mwc.debrief.core.Perspective">
            <hiddenMenuItem id="bookmark"/>
            <hiddenMenuItem id="org.eclipse.ui.edit.addBookmark"/>
            <hiddenMenuItem id="org.eclipse.ui.edit.addTask"/>
            <hiddenMenuItem id="org.eclipse.ui.project.buildAll"/>
            <hiddenMenuItem id="org.eclipse.ui.project.openProject"/>
            <hiddenMenuItem id="org.eclipse.ui.project.closeProject"/>
            <hiddenMenuItem id="org.eclipse.ui.project.buildProject"/>
            <hiddenMenuItem id="org.eclipse.ui.project.cleanAction"/>
            <hiddenMenuItem id="org.eclipse.ui.project.buildAutomatically"/>
            <hiddenMenuItem id="org.eclipse.ui.project.properties"/>
            <hiddenMenuItem id="org.eclipse.ui.navigate.goInto"/>
            <hiddenMenuItem id="org.eclipse.search.menu"/>
            <hiddenMenuItem id="org.eclipse.search.ui.openSearchDialog"/>
            <hiddenMenuItem id="org.eclipse.search.ui.openFileSearchPage"/>
            <hiddenMenuItem id="textSearchSubMenu"/>
            <hiddenMenuItem id="org.eclipse.search.ui.performTextSearchWorkspace"/>
            <hiddenMenuItem id="org.eclipse.search.ui.performTextSearchProject"/>
            <hiddenMenuItem id="org.eclipse.search.ui.performTextSearchFile"/>
            <hiddenMenuItem id="org.eclipse.search.ui.performTextSearchWorkingSet"/>
            <hiddenMenuItem id="org.eclipse.ui.navigate.back"/>
            <hiddenMenuItem id="org.eclipse.ui.navigate.forward"/>
            <hiddenMenuItem id="org.eclipse.ui.navigate.up"/>
            <hiddenMenuItem id="converstLineDelimitersTo"/>
            <hiddenMenuItem id="org.eclipse.ui.edit.text.delimiter.windows"/>
            <hiddenMenuItem id="org.eclipse.ui.edit.text.delimiter.unix"/>
            <hiddenMenuItem id="org.eclipse.ui.edit.text.delimiter.macOS9"/>
            <hiddenMenuItem id="project"/>
            <hiddenMenuItem id="navigate"/>
            <hiddenToolBarItem id="org.eclipse.debug.ui.commands.RunToLine"/>
            <hiddenToolBarItem id="org.eclipse.ui.edit.text.toggleShowSelectedElementOnly"/>
            <hiddenToolBarItem id="org.eclipse.search.searchActionSet"/>
            <hiddenToolBarItem id="org.eclipse.search.OpenSearchDialogPage"/>
            <hiddenToolBarItem id="org.eclipse.ui.navigate.back"/>
            <hiddenToolBarItem id="org.eclipse.ui.navigate.forward"/>
            <hiddenToolBarItem id="org.eclipse.ui.navigate.up"/>
            <hiddenToolBarItem id="org.eclipse.debug.ui.launchActionSet"/>
            <hiddenToolBarItem id="org.eclipse.ui.NavigateActionSet"/>
            <hiddenToolBarItem id="org.eclipse.ui.edit.text.actionSet.navigation"/>
            <hiddenToolBarItem id="org.eclipse.ui.edit.text.actionSet.annotationNavigation"/>
            <hiddenToolBarItem id="org.eclipse.ui.workbench.navigate"/>
            <hiddenToolBarItem id="org.eclipse.ui.workbench.file"/>
            <hiddenToolBarItem id="org.eclipse.ui.workbench.help"/>
        </perspectiveExtension>
        <perspectiveExtension targetID="org.eclipse.ui.resourcePerspective">
            <hiddenMenuItem id="bookmark"/>
            <hiddenMenuItem id="org.eclipse.ui.edit.addBookmark"/>
            <hiddenMenuItem id="org.eclipse.ui.edit.addTask"/>
            <hiddenMenuItem id="org.eclipse.ui.project.buildAll"/>
            <hiddenMenuItem id="org.eclipse.ui.project.buildProject"/>
            <hiddenMenuItem id="org.eclipse.ui.project.cleanAction"/>
            <hiddenMenuItem id="org.eclipse.ui.project.buildAutomatically"/>
            <hiddenMenuItem id="org.eclipse.ui.project.properties"/>
            <hiddenMenuItem id="org.eclipse.ui.navigate.goInto"/>
            <hiddenMenuItem id="org.eclipse.search.menu"/>
            <hiddenMenuItem id="org.eclipse.search.ui.openSearchDialog"/>
            <hiddenMenuItem id="org.eclipse.search.ui.openFileSearchPage"/>
            <hiddenMenuItem id="textSearchSubMenu"/>
            <hiddenMenuItem id="org.eclipse.search.ui.performTextSearchWorkspace"/>
            <hiddenMenuItem id="org.eclipse.search.ui.performTextSearchProject"/>
            <hiddenMenuItem id="org.eclipse.search.ui.performTextSearchFile"/>
            <hiddenMenuItem id="org.eclipse.search.ui.performTextSearchWorkingSet"/>
            <hiddenMenuItem id="org.eclipse.ui.navigate.back"/>
            <hiddenMenuItem id="org.eclipse.ui.navigate.forward"/>
            <hiddenMenuItem id="org.eclipse.ui.navigate.up"/>
            <hiddenMenuItem id="converstLineDelimitersTo"/>
            <hiddenMenuItem id="org.eclipse.ui.edit.text.delimiter.windows"/>
            <hiddenMenuItem id="org.eclipse.ui.edit.text.delimiter.unix"/>
            <hiddenMenuItem id="org.eclipse.ui.edit.text.delimiter.macOS9"/>
            <hiddenMenuItem id="project"/>
            <hiddenToolBarItem id="org.eclipse.debug.ui.commands.RunToLine"/>
            <hiddenToolBarItem id="org.eclipse.ui.edit.text.toggleShowSelectedElementOnly"/>
            <hiddenToolBarItem id="org.eclipse.search.searchActionSet"/>
            <hiddenToolBarItem id="org.eclipse.search.OpenSearchDialogPage"/>
            <hiddenMenuItem id="org.eclipse.ui.navigate.back"/>
            <hiddenMenuItem id="org.eclipse.ui.navigate.forward"/>
            <hiddenToolBarItem id="org.eclipse.ui.navigate.up"/>
            <hiddenToolBarItem id="org.eclipse.debug.ui.launchActionSet"/>
            <hiddenToolBarItem id="org.eclipse.ui.NavigateActionSet"/>
            <hiddenToolBarItem id="org.eclipse.ui.edit.text.actionSet.navigation"/>
            <hiddenToolBarItem id="org.eclipse.ui.edit.text.actionSet.annotationNavigation"/>
            <hiddenToolBarItem id="org.eclipse.ui.workbench.navigate"/>
            <hiddenToolBarItem id="org.eclipse.ui.workbench.file"/>
            <hiddenToolBarItem id="org.eclipse.ui.workbench.help"/>
        </perspectiveExtension>
    </extension>

    <extension point="org.eclipse.ui.keywords">
  		<keyword label="merge" id="org.mwc.debrief.core.merge"/>
  		<keyword label="infill" id="org.mwc.debrief.core.infill"/>
	</extension> 
    <extension point="org.eclipse.ui.preferencePages">
        <page
              category="org.mwc.cmap.core.preferences.CMAPPrefsPage"
              class="org.mwc.debrief.core.preferences.PrefsPage"
              id="org.mwc.debrief.core.preferences.PrefsPage"
              name="Debrief-specific settings">
           <keywordReference
                 id="org.mwc.debrief.core.merge">
           </keywordReference>
           <keywordReference
                 id="org.mwc.debrief.core.infill">
           </keywordReference>
        </page>
    </extension>
    <extension point="org.eclipse.core.runtime.preferences">
        <initializer class="org.mwc.debrief.core.preferences.PreferenceInitializer"/>
    </extension>


  <extension
        point="org.eclipse.ui.preferencePages">
     <page
           class="org.mwc.debrief.core.ContextOperations.ExportCSVPrefs.ExportCSVPreferencesPage"
           id="org.mwc.debrief.core.ContextOperations.ExportCSVPrefs.ExportCSVPreferencesPage"
           category="org.mwc.cmap.core.preferences.CMAPPrefsPage"
           name="CSV Export Wizard"/>
  </extension>
  <extension
        point="org.eclipse.core.runtime.preferences">
     <initializer class="org.mwc.debrief.core.ContextOperations.ExportCSVPrefs.ExportCSVPreferenceInitializer"/>
  </extension>

    <extension point="org.eclipse.ui.intro">
        <introProductBinding introId="org.eclipse.ui.intro.universal"
            productId="org.mwc.debrief.core.Debrief"> </introProductBinding>
    </extension>
    <extension point="org.eclipse.ui.intro.configExtension">
        <configExtension configId="org.eclipse.ui.intro.universalConfig"
            content="intro_content/debrief_overview.xml"> </configExtension>
    </extension>
    <extension point="org.eclipse.ui.intro.configExtension">
        <configExtension configId="org.eclipse.ui.intro.universalConfig"
            content="intro_content/debrief_tutorials.xml"> </configExtension>
    </extension>
    <extension point="org.eclipse.ui.intro.configExtension">
        <configExtension configId="org.eclipse.ui.intro.universalConfig"
            content="intro_content/debrief_firststeps.xml"> </configExtension>
    </extension>
    <extension point="org.eclipse.ui.intro.configExtension">
        <configExtension configId="org.eclipse.ui.intro.universalConfig"
            content="intro_content/debrief_whatsnew.xml"> </configExtension>
    </extension>
    <extension point="org.eclipse.ui.intro.configExtension">
        <configExtension configId="org.eclipse.ui.intro.universalConfig"
            content="intro_content/debrief_workbench.xml"> </configExtension>
    </extension>

    <extension point="org.eclipse.ui.bindings">
        <key commandId="org.mwc.debrief.core.exportAsRTF" contextId="org.mwc.cmap.plotEditorContext"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="SHIFT+CTRL+C"/>

        <key commandId="org.mwc.debrief.core.RadioHandler"
            contextId="org.mwc.cmap.plotEditorContext"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="M3+1">
            <parameter id="org.eclipse.ui.commands.radioStateParameter" value="DragSegment"
            > </parameter>
        </key>

        <key commandId="org.mwc.debrief.core.RadioHandler"
            contextId="org.mwc.cmap.plotEditorContext"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="M3+2">
            <parameter id="org.eclipse.ui.commands.radioStateParameter" value="DragComponent"
            > </parameter>
        </key>
        <key commandId="org.mwc.debrief.core.RadioHandler"
            contextId="org.mwc.cmap.plotEditorContext"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="M3+3">
            <parameter id="org.eclipse.ui.commands.radioStateParameter" value="DragFeature"
            > </parameter>
        </key>
        <key commandId="org.mwc.debrief.core.RadioHandler"
            contextId="org.mwc.cmap.plotEditorContext"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="M3+4">
            <parameter id="org.eclipse.ui.commands.radioStateParameter" value="RangeBearing"
            > </parameter>
        </key>
        <key commandId="org.mwc.debrief.core.RadioHandler"
            contextId="org.mwc.cmap.plotEditorContext"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="M3+5">
            <parameter id="org.eclipse.ui.commands.radioStateParameter" value="Pan"> </parameter>
        </key>
        <key commandId="org.mwc.debrief.core.RadioHandler"
            contextId="org.mwc.cmap.plotEditorContext"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="M3+6">
            <parameter id="org.eclipse.ui.commands.radioStateParameter" value="ZoomIn"> </parameter>
        </key>
    </extension>

    <extension point="org.eclipse.ui.startup">
        <startup class="org.mwc.debrief.core.Startup"/>
    </extension>
    <extension point="org.mwc.cmap.core.RightClickSupport">
        <helper class="org.mwc.debrief.core.operations.ExportTrackToGPX"/>
        <helper class="org.mwc.debrief.core.ContextOperations.ExportTrackAsCSV"/>
        <helper class="org.mwc.debrief.core.ContextOperations.RemoveTrackJumps"/>
        <helper class="org.mwc.debrief.core.ContextOperations.SmoothTrackJumps"/>
        <helper class="org.mwc.debrief.core.ContextOperations.CalculateTrackLength"/>
        <helper class="org.mwc.debrief.core.ContextOperations.SelectAllChildren"/>
    </extension>
    
    <extension
         point="org.mwc.debrief.core.XMLLayerHandler">
      <helper
            class="Debrief.ReaderWriter.XML.dynamic.DynamicShapeLayerHandler">
      </helper>
    </extension>
    
    <extension
         point="org.mwc.debrief.core.XMLLayerHandler">
      <helper
            class="Debrief.ReaderWriter.XML.dynamic.DynamicLayerHandler">
      </helper>
    </extension>
   <extension
      point="org.eclipse.ui.activities">
	    <activity
	         id="test.disable"
	         name="Disable New Project">
	   </activity>
	   <activityPatternBinding
	         activityId="test.disable"
	         isEqualityPattern="true"
	         pattern="org.eclipse.ui.ide/org.eclipse.ui.wizards.new.project">
	   </activityPatternBinding>
	</extension>
   <extension
         point="org.mwc.debrief.core.RepReader">
      <helper
            class="Debrief.ReaderWriter.Replay.extensions.TA_Modules_DataHandler">
      </helper>
      <helper
            class="Debrief.ReaderWriter.Replay.extensions.TA_ForeAft_DataHandler">
      </helper>
      <helper
            class="Debrief.ReaderWriter.Replay.extensions.TA_COG_ABS_DataHandler">
      </helper>
      <helper
            class="Debrief.ReaderWriter.Replay.extensions.TA_COG_REL_DataHandler">
      </helper>
   </extension>
   <extension
         point="org.mwc.debrief.core.OutlineContentProvider">
      <helper
            contentProvider="Debrief.Wrappers.Extensions.Measurements.Wrappers.MeasuredDataProvider"
            imageProvider="org.mwc.debrief.core.providers.MeasuredDataImageHelper">
      </helper>
   </extension>
   <extension
         point="org.mwc.debrief.core.DPFReaderWriter">
      <helper
            reader="Debrief.ReaderWriter.XML.extensions.MeasuredDataHandler"
            writer="Debrief.ReaderWriter.XML.extensions.MeasuredDataHandler">
      </helper>
   </extension>
   <extension
         point="org.eclipse.ui.splashHandlers">
      <splashHandler
            class="org.mwc.debrief.core.splashHandlers.ExtensibleSplashHandler"
            id="org.mwc.debrief.core.splashHandlers.extensible">
      </splashHandler>
   </extension>
   <extension
         point="org.mwc.cmap.core.EarthModelProvider">
      <provider
            class="org.mwc.debrief.core.gt2plot.GeoCalculatorProvider">
      </provider>
   </extension>
</plugin>
